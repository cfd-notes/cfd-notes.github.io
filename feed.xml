<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://cfd-notes.com/feed.xml" rel="self" type="application/atom+xml"/><link href="https://cfd-notes.com/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-09-12T19:32:07+00:00</updated><id>https://cfd-notes.com/feed.xml</id><title type="html">CFD Notes</title><subtitle>A website with notes on everything related to Fluid Mechanics. </subtitle><entry><title type="html">ParaView Installation</title><link href="https://cfd-notes.com/blog/2024/ParaView-Install/" rel="alternate" type="text/html" title="ParaView Installation"/><published>2024-08-18T00:00:00+00:00</published><updated>2024-08-18T00:00:00+00:00</updated><id>https://cfd-notes.com/blog/2024/ParaView-Install</id><content type="html" xml:base="https://cfd-notes.com/blog/2024/ParaView-Install/"><![CDATA[<h2 id="introduction">Introduction</h2> <p>In this post, I will go through the installation process of ParaView-5.13.0 on Windows 11 and Ubuntu 24.04 LTS.</p> <p>ParaView is a wonderful open-source tool for data post-processing. Despite being an open-source project, it is a true competitor to other proprietary data visualization tools. It offers a user-friendly GUI and well-written documentation. It can be used effortlessly for everyday data post-processing, but you can go further and automate your post-processing workflow using the Python shell, which is also included in the ParaView GUI. Additionally, you can even run this tool in parallel on an HPC cluster.</p> <hr/> <h2 id="paraview-on-win-11">ParaView on Win 11</h2> <p>I would not recommend installing ParaView via WSL. The easiest way to get ParaView working on Windows 11 is to download the zip file of binaries fow Windows from <a href="https://www.paraview.org/download/">paraview.org/download</a>. You will have two options for downloading. For example, in the case of version 5.13.0, you will find the following zipped binaries:</p> <ul> <li>ParaView-5.13.0-Windows-Python3.10-msvc2017-AMD64.zip,</li> <li>ParaView-5.13.0-MPI-Windows-Python3.10-msvc2017-AMD64.zip.</li> </ul> <p>The MPI version is intended for running ParaView in parallel. Initially, you will be completely fine with the version without MPI <d-cite key="ParaView_MPI"></d-cite>.</p> <p>Place the zip file in a location with a short file path and unpack it. However, you may still encounter the error “Path too long.”</p> <details><summary>Path too long error</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/PathTooLong.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>In that case, rename the destination folder where the files will be extracted from the default zip file name to something shorter, such as “ParaView”.</p> <details><summary>Extract destination</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/ExtractDestination.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>After you successfully extract the zip file, navigate to the “bin” folder inside the unzipped directory and run “paraview.exe” as an administrator. If the blue “Windows protected your PC” window pops up, click on “More info” and then on “Run anyway”.</p> <details><summary>Did Windows protected your PC?</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/WinProtected_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/WinProtected_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>You should now be able to run ParaView.</p> <details><summary>ParaView on Win</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/InstalledParaView.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <h2 id="paraview-install-on-ubuntu">ParaView Install on Ubuntu</h2> <h3 id="app-center">App Center</h3> <p>Probably the most easier way how to install ParaView on Ubuntu would be to install it from Ubuntu App Center. Unfortunatelly there are some drawbacks on this approach. There are is not available the newest version of ParaView and you cannot choose whether MPI will be enabled or not, or any other further options as enabling CUDA and so on.</p> <p>Regarding the ParaView version, the current release is v5.13.0 and in App Center you will find only 5.11.2 release. The same situation is when you will install paraview via apt.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>paraview
</code></pre></div></div> <p>Newer version can be installed from Flathub.</p> <details><summary>App Center and Flathub</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/ParaView_App_Center.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/ParaView_Flathub.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>I probably wouldn’t recommend this option, as it is not even an official way to get ParaView. These packages are probably not even directly maintained by Kitware, which isn’t necessarily a bad thing, but if you encounter any problems with the installation and need to ask for help on the ParaView discourse, you will likely be directed to download ParaView from their website or GitHub (or GitLab) anyway, which is understandable.</p> <h3 id="binaries">Binaries</h3> <p>You can download a compressed archive of the binaries for Linux from <a href="https://www.paraview.org/download/">paraview.org/download</a>. Ideally, you should unzip the .tar.gz file, navigate to the bin folder, and execute the paraview executable file.</p> <details><summary>GUI ParaView Run</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/GUI_Run_ParaView.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>If you attempted to run it via the GUI by double-clicking on the “paraview” file (or right-clicking and selecting “Run”), and nothing happened, try running it via the terminal. While this may not resolve the issue, it will show you an error message.</p> <p>Simply navigate in therminal to that directory where is “paraview” executable and run it.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./paraview
</code></pre></div></div> <details><summary>Running ParaView via terminal</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/RunningParaviewViaTerminal.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>On Ubuntu 24.04 LTS I have received this error:</p> <blockquote> <p class="block-danger">qt.qpa.plugin: Could not load the Qt platform plugin “xcb” in “ “ even though it was found. This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem. <br/> <br/> Available platform plugins are: xcb. <br/> <br/> error: exception occured: Subprocess aborted</p> </blockquote> <p>If we search in the ParaView Discourse FAQ, we find a solution to this error, which involves installing the xcb packages <d-cite key="ParaView_xcb_packages"></d-cite>.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>libxcb-xinerama0 libxcb-xinput0
</code></pre></div></div> <p>This solved the mentioned error, and it was possible to successfully run ParaView v5.13.0.</p> <details><summary>ParaView from binaries on Ubuntu</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-18-ParaView-Install/RunningParaViewBinaries.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <h3 id="build-from-source">Build from source</h3> <p>ParaView provides well-written steps on how to build it from source code, which can be found on <a href="https://github.com/Kitware/ParaView">GitHub</a> or <a href="https://gitlab.kitware.com/paraview/paraview">GitLab</a>. The <a href="https://github.com/Kitware/ParaView/blob/master/Documentation/dev/build.md">Getting Started compilation guide</a> is especially user-friendly and a good starting point, so we will follow it.</p> <p>First of all, we’ll need to install all the necessary dependencies for building.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>git cmake build-essential libgl1-mesa-dev libxt-dev libqt5x11extras5-dev libqt5help5 qttools5-dev qtxmlpatterns5-dev-tools libqt5svg5-dev python3-dev python3-numpy libopenmpi-dev libtbb-dev ninja-build qtbase5-dev qtchooser qt5-qmake qtbase5-dev-tools
</code></pre></div></div> <p>We can create a folder named ParaView and clone the GitHub repository into it.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://gitlab.kitware.com/paraview/paraview.git
</code></pre></div></div> <p>Next, create a folder where ParaView will be built.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>paraview_build
</code></pre></div></div> <p>Then, change the working directory to the cloned repository.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>paraview
</code></pre></div></div> <p>We will switch to the point where the repository was tagged as v5.13.0.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout tag v5.13.0
git submodule update <span class="nt">--init</span> <span class="nt">--recursive</span>
</code></pre></div></div> <p>Move to our build directory.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ../paraview_build
</code></pre></div></div> <p>Here, we can finally build the chosen version of ParaView.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake <span class="nt">-GNinja</span> <span class="nt">-DPARAVIEW_USE_PYTHON</span><span class="o">=</span>ON <span class="nt">-DPARAVIEW_USE_MPI</span><span class="o">=</span>ON <span class="nt">-DVTK_SMP_IMPLEMENTATION_TYPE</span><span class="o">=</span>TBB <span class="nt">-DCMAKE_BUILD_TYPE</span><span class="o">=</span>Release ../paraview
ninja
</code></pre></div></div>]]></content><author><name></name></author><category term="ParaView"/><category term="Install"/><summary type="html"><![CDATA[Installation of ParaView v5.13.0 on Ubuntu 24.04 LTS and Windows 11.]]></summary></entry><entry><title type="html">OpenFOAM-v2406 Installation</title><link href="https://cfd-notes.com/blog/2024/OpenFOAM-Install/" rel="alternate" type="text/html" title="OpenFOAM-v2406 Installation"/><published>2024-08-02T00:00:00+00:00</published><updated>2024-08-02T00:00:00+00:00</updated><id>https://cfd-notes.com/blog/2024/OpenFOAM-Install</id><content type="html" xml:base="https://cfd-notes.com/blog/2024/OpenFOAM-Install/"><![CDATA[<h2 id="introduction">Introduction</h2> <p>In this post, I will go through OpenFOAM-v2406 installation process on Ubuntu 24.04 LTS and Windows 11.</p> <p>First of all, what is OpenFOAM? OpenFOAM stands for Open Source Field Operation and Manipulation and it is free<d-footnote>You dont have to pay anything for OpenFOAM (free as a free beer), but mainly free in context of freedom. You can run the OpenFOAM as you want even for comercial purpose, you can change its code and redistribute it, you can even try to sell copies of OpenFOAM if you think that its good idea.</d-footnote> open source CFD software. Released under GNU General Public License. It contains pre-written collection of code in C++ that can be used to build solvers and utilities for pre-processing, solving and post-processing a large spectrum of problems from continuum mechanics. Luckily, it also includes a large set of tutorials that can be modified to suit our needs. Main focus is given to finite volume method (FVM) and fluid mechanics.</p> <p>At the beginning, we will face the question of which version of OpenFOAM to begin with. Simply put, we have two main options. One is from OpenCFD Ltd, which is part of the ESI Group and whose distribution can be found at <a href="https://www.openfoam.com/">openfoam.com</a>. The other option is from the OpenFOAM Foundation at <a href="https://openfoam.org/">openfoam.org</a>.</p> <p>Regarding this dilemma of which version of OpenFOAM to start with, a good summary can be found on the CFD-Online forum <d-cite key="OpenFOAM_Com_vs_Org2017"></d-cite>. From my personal perspective, I chose the version from ESI because it is used by people around me, so I opted for this option initially. However, in the future, it is definitely a good idea to try both distributions or even others and decide based on your preferences.</p> <p>It is possible to immediately tell if the version of OpenFOAM is from ESI-OpenCFD (<a href="https://www.openfoam.com/">openfoam.com</a>) or from the OpenFOAM Foundation (<a href="https://openfoam.org/">openfoam.org</a>) because they use different versioning identifiers.</p> <details><summary>Click here to know more about versioning differences</summary> <ol> <li> <p>ESI-OpenCFD (<a href="https://www.openfoam.com/">openfoam.com</a>) uses for OpenFOAM versioning a date-of-release identifier. The format is OpenFOAM-vYYMM, where:</p> <ul> <li>YY represents the last two digits of the release year,</li> <li>MM represents the month of the release.</li> </ul> <p>For example, OpenFOAM-v2406:</p> <ul> <li>24 indicates the year 2024,</li> <li>06 indicates the month of June.</li> </ul> <p>Previous release was OpenFOAM v2312. Every half year is expected new release distributed via <a href="https://www.openfoam.com/">openfoam.com</a>.</p> </li> <li> <p>Foundation OpenFOAM (<a href="https://openfoam.org/">openfoam.org</a>) uses for OpenFOAM versioning a sequence based identifier<d-cite key="OpenFOAM_org_version_history"></d-cite>. The format is OpenFOAM X.Y.Z, where:</p> <ul> <li>X represents major version number,</li> <li>Y represents minor version number,</li> <li>Z represents patch version number.</li> </ul> <p>For example, OpenFOAM 2.3.1:</p> <ul> <li>2 indicates the major version number,</li> <li>3 indicates the minor version number,</li> <li>1 indicates the patch version number.</li> </ul> <p>Since the 2017 there are realised every year only major versions. For example current realise is from 9th July 2024 OpenFOAM 12, previous was OpenFOAM 11 realised in 11th July 2023.</p> </li> </ol> </details> <hr/> <h2 id="wsl-install-on-win-11">WSL install on Win 11</h2> <p>One of the convenient ways to install OpenFOAM on Windows 11 is WSL (Windows Subsystem for Linux).</p> <details><summary>Freshly installed Windows 11</summary> <p>Edition Windows 11 Home<br/> Version 23H2<br/> Installed 31/07/2024<br/> OS build 22631.3880<br/> Experience Windows Feature Experience Pack 1000.22700.1020.0</p> </details> <p>We are going to install everything needed for WSL using a PowerShell command, as suggested by the WSL documentation <d-cite key="WSL_Doc"></d-cite>.</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wsl</span><span class="w"> </span><span class="nt">--install</span><span class="w">
</span></code></pre></div></div> <p>This will, by default, install Ubuntu (in my case, Ubuntu 22.04.4 LTS). You will be asked to restart your system.</p> <details><summary>Windows PowerShell – WSL Installation</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-02-openFOAM-install/wsl_install.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>After restarting, a new window will pop up, and you will be asked to create a UNIX user account for Ubuntu. Your username should follow certain rules. For example, capital letters are not allowed. When you are typing your password, it is normal not to see what you are typing.</p> <details><summary>After system restart – Ubuntu set up</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-02-openFOAM-install/WSL_Ubuntu_default.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>And that’s it. You have successfully installed Ubuntu. You can also install another GNU/Linux distribution. Already installed distributions can be listed with the command:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wsl</span><span class="w"> </span><span class="nt">-l</span><span class="w"> </span><span class="nt">-v</span><span class="w">
</span></code></pre></div></div> <p>and available distributions:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wsl</span><span class="w"> </span><span class="nt">-l</span><span class="w"> </span><span class="nt">-o</span><span class="w">
</span></code></pre></div></div> <p>The chosen distribution can be simply installed by specifying its name:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">wsl</span><span class="w"> </span><span class="nt">--install</span><span class="w"> </span><span class="nt">-d</span><span class="w"> </span><span class="err">&lt;</span><span class="nx">Distro</span><span class="err">&gt;</span><span class="w">
</span></code></pre></div></div> <details><summary>Different GNU/Linux distributions</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-02-openFOAM-install/wsl_another_distro.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>You can then easily find your installed distribution in your Windows Apps.</p> <details><summary>Inslatted GNU/Linux distributions in Windows Apps</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-02-openFOAM-install/Ubuntu_Search.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <hr/> <h2 id="openfoam-install-on-ubuntu-via-wsl">OpenFOAM install on Ubuntu (via WSL)</h2> <p>Now, we will finally install OpenFOAM. We can simply follow the quick-start steps from the OpenFOAM wiki for installing precompiled packages on Ubuntu <d-cite key="OpenFOAM_wiki_install_Ubuntu"></d-cite>. So, in the Ubuntu terminal, we pass:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Add the repository</span>
curl https://dl.openfoam.com/add-debian-repo.sh | <span class="nb">sudo </span>bash

<span class="c"># Update the repository information</span>
<span class="nb">sudo </span>apt-get update

<span class="c"># Install preferred package. Eg,</span>
<span class="nb">sudo </span>apt-get <span class="nb">install </span>openfoam2406-default

<span class="c"># Use the openfoam shell session. Eg,</span>
openfoam2406
</code></pre></div></div> <p>Curl is used to download a file (script) from https://dl.openfoam.com/add-debian-repo.sh, and then it is ‘passed’ to bash for execution using pipe. This script adds the OpenFOAM repository to our Ubuntu system, so we can then simply update and install it. Running scripts from untrusted sources can be dangerous, and we should check what we are actually executing. Since sudo is used, you will be asked for your password.</p> <details><summary>OpenFOAM Installation in WSL Ubuntu terminal</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-02-openFOAM-install/OpenFOAM_Install.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>After running the apt-get install command, you will need to confirm that you want to continue by typing ‘Y’ when prompted. When it is finished, you can use OpenFOAM by:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openfoam2406
</code></pre></div></div> <details><summary>OpenFOAM Installation in WSL Ubuntu terminal</summary> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/2024-08-02-openFOAM-install/Installed_OpenFOAM.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> </details> <p>With that, we have successfully installed OpenFOAM-v2406.</p>]]></content><author><name></name></author><category term="OpenFOAM"/><category term="Install"/><summary type="html"><![CDATA[Installation of OpenFOAM-v2406 on Ubuntu 24.04 LTS and Windows 11.]]></summary></entry></feed>